export const metadata = {
  title: 'API Reference'
}

# API Reference

Axebase primarily uses **tRPC** for client-server communication, ensuring end-to-end type safety.

## tRPC API

The API is structured into routers located in `src/features/*/server/routers.ts`.

### Key Routers

- **`auth`**: Authentication methods.
- **`workflows`**: CRUD operations for workflows.
- **`executions`**: Managing and triggering workflow executions.
- **`triggers`**: Configuring workflow triggers.

### Usage in Client

If you are developing features within the Axebase repo, you can use the tRPC hooks:

```typescript
import { trpc } from '@/trpc/client';

// Example: tailored for React components
const { data: workflows, isLoading } = trpc.workflows.getWorkflows.useQuery();
```

## Database Schema

The core data models are defined in `prisma/schema.prisma`.

### Workflow
- `id`: Unique identifier (CUID).
- `name`: Workflow name.
- `nodes`: JSON definition or relation to Node definitions.
- `connections`: Graph connections between nodes.

## Authentication

Authentication is handled by **Better Auth**. Session tokens are managed securely via cookies.

To make authenticated requests serverside, you can use the caller factory or helper functions provided in `src/features/auth`.
